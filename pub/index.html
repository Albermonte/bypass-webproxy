<!DOCTYPE html>
<html>
<head lang="en">
    <!-- This Source Code Form is subject to the terms of the Mozilla Public
       - License, v. 2.0. If a copy of the MPL was not distributed with this
       - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
    <title>Bypass</title>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1" name=
    "viewport"><!-- Latest compiled and minified CSS -->
    <link crossorigin="anonymous" href=
    "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    integrity=
    "sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" rel=
    "stylesheet"><!-- Latest minified jQuery -->

    <script src="https://code.jquery.com/jquery-3.1.0.min.js">
    </script><!-- Latest compiled and minified JavaScript -->

    <script src=
    "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js">
    </script><!-- Give a fancy shmancy favicon -->
    <link href='/favicon.png' rel='shortcut icon' type='image/x-icon'>
</head>
<body>
    <div class="container">
        <div class="page-header">
            <h1>Bypass</h1>
        </div>
        <div class="jumbotron">
            <div class="input-group">
                <input class="form-control" id="input-url" placeholder=
                "Enter URL to load..." type="text"> <span class=
                "input-group-btn"><button class="btn btn-default disabled" id="input-go"
                type="button"><span class="input-group-btn"><span class=
                "input-group-btn">Go!</span></span></button></span>
            </div><!-- /input-group -->
            <br>
            <div class="panel panel-default" style="display: none;">
                <div class="panel-heading">
                    Settings
                </div>
                <div class="panel-body">
                    <input aria-label="Strip JavaScript tags" data-key="stripjs" id="param"
                    type="checkbox">Strip JavaScript tags<br>
                    <input aria-label="Strip Meta tags" data-key="stripmeta" id="param" type=
                    "checkbox">Strip Meta tags<br>
                </div>
            </div><br>
        </div>
    </div>
    <script>
               var url = document.getElementById("input-url");
               var gobutton = document.getElementById("input-go");
               gobutton.onclick = function(){
                   loadURL(url.value);
               };
               $("#input-url").keypress(function(e) {
                   if (url.value != "") {
                       $("#input-go").removeClass("disabled");
                   } else {
                       $("#input-go").addClass("disabled");
                   }
                   if(e.which == 13 && url.value != "") {
                       loadURL(url.value);
                   }
               });
               function loadURL(targurl) {
                   var params
                   $("#param").each(function() {
                       if ($( this ).attr("checked")) {
                           chkstr = "true"
                       } else {
                           chkstr = "false"
                       }
                       params += $( this ).data("key") + ":" + chkstr
                   })
                   if (targurl != "") {
                       var encodedURL = window.btoa(targurl); // Encode the URL in Base64
                       var encodedParams = window.btoa(params); // Encode the URL in Base64
                       window.location.href = window.location.href + "/p/?u=" + encodedURL + "&p=" + encodedParams;
                   }
               }
    </script>
</body>
</html>