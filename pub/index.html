<!DOCTYPE html>
<html>
<head lang="en">
    <!-- This Source Code Form is subject to the terms of the Mozilla Public
       - License, v. 2.0. If a copy of the MPL was not distributed with this
       - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
    <title>Bypass</title>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1" name=
    "viewport"><!-- Latest compiled and minified CSS -->
    <link crossorigin="anonymous" href=
    "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    integrity=
    "sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" rel=
    "stylesheet"><!-- Latest minified jQuery -->

    <script src="https://code.jquery.com/jquery-3.1.0.min.js">
    </script><!-- Latest compiled and minified JavaScript -->

    <script src=
    "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js">
    </script><!-- Give a fancy shmancy favicon -->
    <link href='/favicon.png' rel='shortcut icon' type='image/x-icon'>
</head>
<body>
    <div class="container">
        <div class="page-header">
            <h1>Bypass</h1>
        </div>
        <div class="jumbotron">
            <div class="input-group">
                <input class="form-control" id="input-url" placeholder=
                "Enter URL to load..." name="destinaion" type="url"> <span class=
                "input-group-btn"><button class="btn btn-default disabled" id="input-go"
                type="button">Go!</button></span>
            </div><!-- /input-group -->
        </div>
    </div>
    <iframe sandbox style="display: none;" id="contentFrame"></iframe>
    <script>
	       var hidden = true
               var url = document.getElementById("input-url");
               var gobutton = document.getElementById("input-go");
               gobutton.onclick = function(){
                   loadURL(url.value);
               };
	       // Disable the button if there isn't anything in the input box
               $("#input-url").keypress(function(e) {
                   if (url.value != "") {
                       $("#input-go").removeClass("disabled");
                   } else {
                       $("#input-go").addClass("disabled");
                   }
		   // Load the URL when the enter key is pressed
                   if(e.which == 13 && url.value != "") {
                       loadURL(url.value);
                   }
               });
               function loadURL(targurl) {
                   if (targurl != "") {
		       if (hidden) {
		           hidden = false;
			   $(".page-header").slideUp(500, function() {$(".jumbotron").css({backgroundColor: "rgba(0,0,0,0)", padding: "0px", marginBottom: "2px"}); $("#contentFrame").height($( window ).height()-$(".container").height()-1);}); // Get rid of the header, then make the jumbotron small
                           $("#contentFrame").css({width: "100%", height: "100%", display: "block", border: "none", borderTop: "1px black solid"});
		       }
                       var encodedURL = window.btoa(targurl); // Encode the URL in Base64
                       $("#contentFrame").attr("src", window.location.protocol + "//" + window.location.host + "/p/?u=" + encodedURL);
                   }
               }

	       $( window ).resize(function() {
		       if (!hidden) {
			       $("#contentFrame").height($( window ).height()-$(".container").height()-1)
		       }
	       });
    </script>
</body>
</html>
